@use "sass:math";

$max_events_group: 100;

%stack--item-styles {
  width: 100%;
  height: auto;
  border: 1px solid #808080;
  margin: .5rem;
  padding: 1rem;
  background: rgba(0,0,0, .9);
  color: white;
  position: relative;
  left: 50%;
  top: 0;
  opacity: 0;
  z-index: -1;
  transform: translate(-50%, -100%) scale(.5);
  border-radius: 1rem;
}

@mixin item-stacked {
  $base: 10;
  $factor: 70;
  @for $i from 1 through $max_events_group {
    .stack--item-#{$i} { 
      @extend %stack--item-styles;
    }
  }
  .stack--item-1 {
    @extend %stack--item-styles;
    width: 100%;
    opacity: 1;
    z-index: 1;
    position: relative;
    transform: translate(-50%, 0%);
  }
}

@include item-stacked;

#stack {
  position: relative;
  width: 500px;
  margin: auto;
  top: 70vh;
  &:hover {
    max-height: 50vh;
    @for $i from 2 through $max_events_group {
      .stack--item-#{$i} {
        animation-fill-mode: forwards;
        animation-name: stack--item-#{$i};
        animation-timing-function: ease;
        animation-duration: 5s;
        // animation-duration: #{0.2 + math.div($i, 15) + 's'};
      }
    }
  }
}

@for $i from 1 through $max_events_group {
  @keyframes stack--item-#{$i} {
    0% {

    }
    50% {
      z-index: 0;
      opacity: .5;
      transform: translate(-50%, -50%) scale(.8);
      position: relative;
    }
    95% {
      z-index: 0;
      opacity: .75;
      transform: translate(-50%, -50%) scale(1);
      position: relative;
    }
    100% {
      width: 100%;
      z-index: 0;
      opacity: 1;
      transform: translate(-50%, 0%) scale(1);
      position: relative;
    } 
  }
}














// &:hover {
//   @for $i from 1 through $max_events_group {
//     .stack--item-#{$i} { 
//       top: #{$i * 100 + '%'};
//     }
//   }
// }



// animation-fill-mode: forwards;
// animation-name: animation-stack--item-#{$i};
// animation-timing-function: ease-in-out;
// animation-duration: #{0.2 + math.div($i, 7.5) + 's'};

// .stack--item:first-child {
//   position: relative;
//   z-index: 99;
//   top: 0;
//   width: 100%;
// }







